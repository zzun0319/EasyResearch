package com.junhee.EasyResearch.User.Service;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.beans.factory.annotation.Qualifier;
import org.springframework.stereotype.Service;

import com.junhee.EasyResearch.Model.UnivMemberVO;
import com.junhee.EasyResearch.Model.UserVO;
import com.junhee.EasyResearch.User.Repository.IUserMapper;

@Service
public class UserService implements IUserService {
	
	@Autowired
	private IUserMapper mapper;
	
	@Override
	public UnivMemberVO GetUnivMemberInfoByIdNum(String idNumber) {
		return mapper.GetUnivMemberInfoByIdNum(idNumber);
	}

	@Override
	public String CheckUnivMemberInfo(UnivMemberVO umvo) {
		
		String result = null;
		
		UnivMemberVO newUmvo = mapper.GetUnivMemberInfoByIdNum(umvo.getIdNumber());
		
		if(newUmvo == null) {
			result = "해당 학번/교번과 일치하는 정보가 학교 데이터베이스에 없습니다.";
		}
		else {
			if(!newUmvo.getRegisteredName().equals(umvo.getRegisteredName())) {
				result = "입력하신 이름이 학교 데이터베이스에 등록된 이름과 일치하지 않습니다."; 
			}
			else if(!newUmvo.getSort().equals(umvo.getSort())) {
				result = "선택하신 회원분류가 학교 데이터베이스에 등록된 회원분류와 일치하지 않습니다.";
			}
			else if(!newUmvo.getUnivEmail().equals(umvo.getUnivEmail())) {
				result = "입력하신 이메일이 학교계정 이메일과 일치하지 않습니다.";
			}
			else {
				result = "모든 정보가 일치합니다.";
			}
		}
		return result;
	}

	@Override
	public void Register(UserVO user) {
		// TODO Auto-generated method stub
		
	}

}
