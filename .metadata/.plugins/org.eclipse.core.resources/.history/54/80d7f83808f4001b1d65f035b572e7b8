package com.junhee.EasyResearch.util;

import java.util.UUID;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.beans.factory.annotation.Qualifier;
import org.springframework.stereotype.Component;

@Component
public class FileProcessor {
	
	@Autowired
	@Qualifier("uploadPath")
	private String uploadPath;

	// full 경로를 반환하는 메서드
	public String GetFullPath(String fileName) {
		return uploadPath + fileName;
	}
	
	// 확장자를 추출 및 반환해주는 메서드
	public String ExtractExtension(String originalFileName) {
		return originalFileName.substring(originalFileName.lastIndexOf("."));
	}
	
	// uuid로 만들어진 savedFileName을 반환하는 메서드
	public String GetSavedFileName(String originalFileName) {
		
		String extension = ExtractExtension(originalFileName);
		String uuid = UUID.randomUUID().toString();
		
		return uuid + extension;
	}
	
}
